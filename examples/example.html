<html>
<body>
    <!--Platform-->
    <script src="../dist/platform_gateway.js"></script>
    <script>
        var PlatformGateway = require('platform_gateway');
        var GravityGateway = PlatformGateway();

        GravityGateway.subscribe({
            action: 'betslip.add',
            callback : function(data) {
                console.info('Betslip add action is called from', data.groupId);
            }
        });

        setTimeout(function() {
            var PrematchFrame = document.getElementById('Prematch');
            GravityGateway.sendMessage(PrematchFrame, {
                action: 'betslip.add',
                groupId : 'Prematch'
            });
        }, 2000);
    </script>
    <!--end of platform-->

    <!--Live-->
    <div id="Live">
        <script src="../dist/product_gateway.js"></script>
        <script>
            var ProductGateway = require('product_gateway');

            var LiveBettingGateway = ProductGateway({groupId: 'LiveBetting', allowedOrigins : ['null']}); <!--origin = null - files run locally -->
            LiveBettingGateway.subscribe({
                action: 'betslip.add',
                callback : function() {
                    console.info('LiveBetting - callback triggered')
                }
            });

            LiveBettingGateway.sendMessage({
                action: 'betslip.add'
            });
        </script>
    </div>
    <!--end of Live-->

    <!--Prematch-->
    <div id="Prematch">
        <script src="../dist/product_gateway.js"></script>
        <script>
            var ProductGateway = require('product_gateway');
            var PrematchGateway = ProductGateway({groupId: 'Prematch', allowedOrigins : ['null']}); <!--origin = null - files run locally -->

            PrematchGateway.subscribe({
                action: 'betslip.add',
                callback : function() {
                    console.info('Prematch - callback triggered')
                }
            });

            setTimeout(function() {
                PrematchGateway.sendMessage({
                    action: 'betslip.add'
                });
            }, 1000);
        </script>
    </div>
    <!--end of Prematch-->
</body>
</html>