<html>
<head>
    <style>
        nav {
            margin-top : 20px;
        }
        nav > a {
            text-decoration: none;
            font-size: 16px;
            margin-right: 10px;
        }
    </style>
</head>
<body>

<script src="../../dist/product_gateway.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.2/react.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.2/react-dom.js"></script>
<script src="https://npmcdn.com/react-router/umd/ReactRouter.min.js"></script>

<div id="container">
    <script>
        var State1 = React.createClass({
            displayName: "State1",

            render: function render() {
                return React.createElement(
                        "div",
                        null,
                        React.createElement(
                                "h1",
                                null,
                                "State1",
                                React.createElement(Links, null)
                        )
                );
            }
        });


        var State2 = React.createClass({
            displayName: "State2",

            render: function render() {
                return React.createElement(
                        "div",
                        null,
                        React.createElement(
                                "h1",
                                null,
                                "State2",
                                React.createElement(Links, null)
                        )
                );
            }
        });

        var Links = React.createClass({
            displayName: "Links",

            render: function render() {
                return React.createElement(
                        "nav",
                        null,
                        React.createElement(
                                ReactRouter.Link,
                                { to: "/state1" },
                                "State1"
                        ),
                        React.createElement(
                                ReactRouter.Link,
                                { to: "state2/" },
                                "State2"
                        )
                );
            }
        });

        var bootstrapApp = function(data) {
            ReactDOM.render(React.createElement(
                    ReactRouter.Router,
                    null,
                    React.createElement(ReactRouter.Route, { path: "/state1", component: State1 }),
                    React.createElement(ReactRouter.Route, { path: "/state2", component: State2 }),
                    React.createElement(ReactRouter.Redirect, { from: '/', to: '/' + data.route })

            ), document.getElementById('container'));
        };

        // Load gateway module and initialize it
        var gatewayModule = require('product_gateway')({loadCallback : bootstrapApp});
    </script>
</div>
</body>
</html>