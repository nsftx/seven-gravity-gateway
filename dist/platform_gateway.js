require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d={resize:function(a,b){var c=document.getElementById(a);c.style.height=b.data.height,c.style.width=b.data.width}};b.exports=d},{}],2:[function(a,b,c){b.exports={sendMessage:function(a,b,c){c=c||"*",a.contentWindow?a.contentWindow.postMessage(b,c):window.postMessage(b,c)}}},{}],3:[function(a,b,c){var d=a("./messaging/platform"),e=a("./pub_sub"),f=a("./content_handler/platform_handler"),g=new RegExp("^Product\\.","g"),h=new RegExp("^Platform\\.","g"),i={initialized:!1,products:{},config:null,allowedOrigins:null,infiniteScroll:!1,setAllowedDomains:function(){this.config&&this.config.allowedOrigins?this.allowedOrigins=this.config.allowedOrigins:this.allowedOrigins="*"},setProductsConfigs:function(){this.config&&this.config.products&&(this.products=this.config.products)},init:function(a){this.config=a,this.setAllowedDomains(),this.setProductsConfigs(),window.addEventListener("message",this.handleMessage.bind(this))},handleMessage:function(a){if(a.data&&(g.test(a.data.action)||h.test(a.data.action)))return this.handleNamespaceMessage(a),!1;var b=a.origin||a.originalEvent.origin;return("*"===this.allowedOrigins||this.allowedOrigins.indexOf(b)!==-1)&&void e.publish(a.data)},handleNamespaceMessage:function(a){if("Product.Init"===a.data.action){if(a.data.groupId&&this.products[a.data.groupId]){var b=this.products[a.data.groupId],c=document.getElementById(b.frameId);b.data.action="Product.Load",this.sendMessage(c,this.products[a.data.groupId].data)}}else"Product.Resize"===a.data.action?f.resize(this.products[a.data.groupId].frameId,a):console.log("Error - Actions with domain `Product` or `Platfrom` are protected")},subscribe:function(a){e.subscribe(a)},unsubscribe:function(a){e.unsubscribe(a)},clearSubscriptions:function(){e.clearSubscriptions()},sendMessage:function(a,b,c){d.sendMessage(a,b,c)}};b.exports=function(a){return!i.initialized&&a?(i.init(a),i.initialized=!0,i):!(!i.initialized||a)&&i}},{"./content_handler/platform_handler":1,"./messaging/platform":2,"./pub_sub":4}],4:[function(a,b,c){var d={topics:{},subscribe:function(a){return!(!a.action||"function"!=typeof a.callback)&&(this.topics[a.action]=a.callback,!0)},unsubscribe:function(a){return!!this.topics[a.action]&&(delete this.topics[a.action],!0)},publish:function(a){var b=this.checkNamespaceActions(a.action);return!!Boolean(b)&&(b(a),!0)},clearSubscriptions:function(){this.topics={}},checkNamespaceActions:function(a){for(var b=this.topics.hasOwnProperty(a),c=a.lastIndexOf(".");!b&&c!==-1;)a=a.substr(0,c),c=a.lastIndexOf("."),b=this.topics.hasOwnProperty(a);return!!b&&this.topics[a]}};b.exports=d},{}],platform_gateway:[function(a,b,c){b.exports=a("../src/platform_gateway")},{"../src/platform_gateway":3}]},{},["platform_gateway"]);