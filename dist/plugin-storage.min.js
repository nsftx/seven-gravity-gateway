!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("gateway",[],r):"object"==typeof exports?exports.gateway=r():(e.gravity=e.gravity||{},e.gravity.gateway=r())}(this,function(){return function(e){function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=13)}({0:function(e,r){var t={debug:!1,out:function(){if(this.debug){var e=Array.prototype.slice.call(arguments),r=e.splice(0,1);console[r]?console[r].apply(this,e):console.log.apply(this,e)}}},o=function(e,r){var t=Date.now();return function(){t+r-Date.now()<0&&(e(),t=Date.now())}};e.exports={logger:t,throttle:o}},13:function(e,r,t){e.exports=t(14)},14:function(e,r,t){var o=t(0).logger,n={config:null,setConfig:function(e){this.config=e,e.debug&&(o.debug=e.debug)},handleMessage:function(e){var r=new RegExp("^Plugin.Storage\\.","g"),t=e.data.action;if(!r.test(e.data.action))return o.out("info","[GGP] Plugin Storage: Message doesn`t have valid signature."),!1;var n=t.lastIndexOf(".");return t=t.replace(".",""),t=t.substring(n),t=t.charAt(0).toLowerCase()+t.slice(1),this[t]?this[t](e.data):(o.out("info","[GGP] Plugin Storage: Method isn`t supported."),!1)},isSupported:function(e){var r=e.driver;return r in window&&window[r]?(o.out("info","[GGP] Plugin Storage: Driver "+r+" is supported."),!0):(o.out("info","[GGP] Plugin Storage: Driver "+r+" isn`t supported."),!1)},key:function(e){var r,t=e.key,n=e.driver;return t&&n?(r=window[n].key(t),{key:t,keyValue:r,driver:n}):(o.out("info","[GGP] Plugin Storage: Key "+t+" on "+n+" doesn`t exist."),null)},getItem:function(e){var r,t=e.keyName,n=e.driver;return t&&n?(r=window[n].getItem(t),{keyName:t,keyValue:r,driver:n}):(o.out("error","[GGP] Plugin Storage: keyName and storage driver must be provided."),null)},setItem:function(e){var r=e.keyName,t=e.keyValue,n=e.driver;return r&&t&&n?(window[n].setItem(r,t),{keyName:r,keyValue:t,driver:n}):(o.out("error","[GGP] Plugin Storage: keyName, keyValue and storage driver must be provided."),null)},removeItem:function(e){var r=e.keyName,t=e.driver;return r&&t?(window[t].removeItem(r),{keyName:r,driver:t}):(o.out("error","[GGP] Plugin Storage: keyName and storage driver must be provided."),null)},clear:function(e){var r=e.driver;return r?(window[r].clear(),{driver:r}):(o.out("error","[GGP] Plugin Storage: storage driver must be provided."),null)}};e.exports=n}})});