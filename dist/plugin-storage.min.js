!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("plugin-storage",[],r):"object"==typeof exports?exports["plugin-storage"]=r():(e.gravity=e.gravity||{},e.gravity.gateway=e.gravity.gateway||{},e.gravity.gateway["plugin-storage"]=r())}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=13)}({0:function(e,r){var t={debug:!1,out:function(){if(this.debug){var e=Array.prototype.slice.call(arguments),r=e.splice(0,1);console[r]?console[r].apply(this,e):console.log.apply(this,e)}}},n=function(e,r){var t=Date.now();return function(){t+r-Date.now()<0&&(e(),t=Date.now())}},o=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=16*Math.random()|0;return("x"===e?r:3&r|8).toString(16)})};e.exports={logger:t,throttle:n,uuidv4:o}},13:function(e,r,t){e.exports=t(14)},14:function(e,r,t){var n=t(0).logger,o={config:null,setConfig:function(e){this.config=e,e.debug&&(n.debug=e.debug)},handleMessage:function(e){var r=new RegExp("^Plugin.Storage\\.","g"),t=e.data.action;if(!r.test(e.data.action))return n.out("info","[GGP] Plugin Storage: Message doesn`t have valid signature."),!1;var o=t.lastIndexOf(".");return t=t.replace(".",""),t=t.substring(o),t=t.charAt(0).toLowerCase()+t.slice(1),this[t]?this[t](e.data):(n.out("info","[GGP] Plugin Storage: Method isn`t supported."),!1)},isSupported:function(e){var r=e.driver;return r in window&&window[r]?(n.out("info","[GGP] Plugin Storage: Driver "+r+" is supported."),!0):(n.out("info","[GGP] Plugin Storage: Driver "+r+" isn`t supported."),!1)},key:function(e){var r,t=e.key,o=e.driver;return t&&o?(r=window[o].key(t),{key:t,keyValue:r,driver:o}):(n.out("info","[GGP] Plugin Storage: Key "+t+" on "+o+" doesn`t exist."),null)},getItem:function(e){var r,t=e.keyName,o=e.driver;return t&&o?(r=window[o].getItem(t),{keyName:t,keyValue:r,driver:o}):(n.out("error","[GGP] Plugin Storage: keyName and storage driver must be provided."),null)},setItem:function(e){var r=e.keyName,t=e.keyValue,o=e.driver;return r&&t&&o?(window[o].setItem(r,t),{keyName:r,keyValue:t,driver:o}):(n.out("error","[GGP] Plugin Storage: keyName, keyValue and storage driver must be provided."),null)},removeItem:function(e){var r=e.keyName,t=e.driver;return r&&t?(window[t].removeItem(r),{keyName:r,driver:t}):(n.out("error","[GGP] Plugin Storage: keyName and storage driver must be provided."),null)},clear:function(e){var r=e.driver;return r?(window[r].clear(),{driver:r}):(n.out("error","[GGP] Plugin Storage: storage driver must be provided."),null)}};e.exports=o}})});