require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=[{type:"Animation Start",eventName:["animationstart","webkitAnimationStart"]},{type:"Animation Iteration",eventName:["animationiteration","webkitAnimationIteration"]},{type:"Animation End",eventName:["animationend","webkitAnimationEnd"]},{type:"Input",eventName:"input"},{type:"Resize",eventName:"resize"},{type:"Mouse Up",eventName:"mouseup"},{type:"Mouse Down",eventName:"mousedown"},{type:"Orientation Change",eventName:"orientationchange"},{type:"Print",eventName:["afterprint","beforeprint"]},{type:"Ready State Change",eventName:"readystatechange"},{type:"Touch Start",eventName:"touchstart"},{type:"Touch End",eventName:"touchend"},{type:"Touch Cancel",eventName:"touchcancel"},{type:"Transition Start",eventName:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]},{type:"Transition Iteration",eventName:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]},{type:"Transition End",eventName:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}],e=200,f=null,g={eventName:null,handleContentChange:function(){var a={action:this.eventName,width:window.innerWidth,height:window.document.documentElement.offsetHeight};this.eventCallback(a)},init:function(a,b){this.eventCallback=a,this.eventName=b,this.attachEventListeners(),window.MutationObserver||window.WebKitMutationObserver?this.setupMutationObserver():this.runDirtyCheck()},attachEventListeners:function(){d.forEach(function(a){Array.isArray(a.eventName)?a.eventName.forEach(function(a){window.addEventListener(a,this.handleContentChange)}.bind(this)):window.addEventListener(a.eventName,this.handleContentChange.bind(this))}.bind(this))},setupMutationObserver:function(){var a,b=window.MutationObserver||window.WebKitMutationObserver,c={childList:!0,subtree:!0,characterData:!0,attributes:!0},d=document.querySelector("body");a=new b(this.handleContentChange.bind(this)),a.observe(d,c)},runDirtyCheck:function(){f=setInterval(function(){this.handleContentChange()}.bind(this),e)}};b.exports=g},{}],2:[function(a,b,c){b.exports={sendMessage:function(a,b){b=b||"*",window.parent.postMessage(a,b)}}},{}],3:[function(a,b,c){var d=a("./messaging/product"),e=a("./pub_sub"),f=a("./content_handler/product_handler"),g=new RegExp("^Product\\.","g"),h=new RegExp("^Platform\\.","g"),i={groupId:"",config:null,initialized:!1,loadCallback:null,setAllowedDomains:function(){this.config&&this.config.allowedOrigins?this.allowedOrigins=this.config.allowedOrigins:this.allowedOrigins="*"},init:function(a){this.config=a,this.groupId=a.groupId,this.loadCallback=a.loadCallback,this.setAllowedDomains(),f.init(this.sendMessage.bind(this),"Product.Resize"),window.addEventListener("message",this.handleMessage.bind(this)),this.sendMessage({action:"Product.Init"})},handleMessage:function(a){if(a.data&&(g.test(a.data.action)||h.test(a.data.action)))return this.handleNamespaceMessage(a),!1;var b=a.origin||a.originalEvent.origin;return("*"===this.allowedOrigins||this.allowedOrigins.indexOf(b)!==-1)&&void e.publish(a.data)},handleNamespaceMessage:function(a){"Product.Load"===a.data.action?this.loadCallback(a.data):console.log("Error - Actions with domain `Product` or `Platfrom` are protected")},subscribe:function(a){e.subscribe(a)},unsubscribe:function(a){e.unsubscribe(a)},clearSubscriptions:function(){e.clearSubscriptions()},sendMessage:function(a,b){a.groupId=this.groupId,d.sendMessage(a,b)}};b.exports=function(a){return!i.initialized&&a?(i.init(a),i.initialized=!0,i):!(!i.initialized||a)&&i}},{"./content_handler/product_handler":1,"./messaging/product":2,"./pub_sub":4}],4:[function(a,b,c){var d={topics:{},subscribe:function(a){return!(!a.action||"function"!=typeof a.callback)&&(this.topics[a.action]=a.callback,!0)},unsubscribe:function(a){return!!this.topics[a.action]&&(delete this.topics[a.action],!0)},publish:function(a){var b=this.checkNamespaceActions(a.action);return!!Boolean(b)&&(b(a),!0)},clearSubscriptions:function(){this.topics={}},checkNamespaceActions:function(a){for(var b=this.topics.hasOwnProperty(a),c=a.lastIndexOf(".");!b&&c!==-1;)a=a.substr(0,c),c=a.lastIndexOf("."),b=this.topics.hasOwnProperty(a);return!!b&&this.topics[a]}};b.exports=d},{}],product_gateway:[function(a,b,c){b.exports=a("../src/product_gateway")},{"../src/product_gateway":3}]},{},["product_gateway"]);