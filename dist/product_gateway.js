require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports={sendMessage:function(a,b){b=b||"*",window.parent.postMessage(a,b)}}},{}],2:[function(a,b,c){function d(a){this.pubSub=new f,this.groupId=a.groupId,this.msgOrigin="product",a&&a.allowedOrigins?this.allowedOrigins=a.allowedOrigins:this.allowedOrigins="*",window.addEventListener("message",function(a){var b=a.origin||a.originalEvent.origin;return("*"===this.allowedOrigins||this.allowedOrigins.indexOf(b)!==-1)&&void(a.data.groupId===this.groupId&&a.data.msgOrigin!==this.msgOrigin&&this.pubSub.publish(a.data))}.bind(this))}var e=a("./messaging/product"),f=a("./pub_sub"),g={};d.prototype.subscribe=function(a){this.pubSub.subscribe(a)},d.prototype.unsubscribe=function(a){this.pubSub.unsubscribe(a)},d.prototype.clearSubscriptions=function(){this.pubSub.clearSubscriptions()},d.prototype.sendMessage=function(a,b){a.msgOrigin=this.msgOrigin,a.groupId=this.groupId,e.sendMessage(a,b)},b.exports=function(a){return!(!a||!a.groupId)&&(g[a.groupId]?g[a.groupId]:g[a.groupId]=new d(a))}},{"./messaging/product":1,"./pub_sub":3}],3:[function(a,b,c){function d(){this.topics={}}d.prototype.checkNamespaceActions=function(a){for(var b=this.topics.hasOwnProperty(a),c=a.lastIndexOf(".");!b&&c!==-1;)a=a.substr(0,c),c=a.lastIndexOf("."),b=this.topics.hasOwnProperty(a);return!!b&&this.topics[a]},d.prototype.subscribe=function(a){return!(!a.action||"function"!=typeof a.callback)&&(this.topics[a.action]=a.callback,!0)},d.prototype.unsubscribe=function(a){return!!this.topics[a.action]&&(delete this.topics[a.action],!0)},d.prototype.publish=function(a){var b=this.checkNamespaceActions(a.action);return!!Boolean(b)&&(b(a),!0)},d.prototype.clearSubscriptions=function(){this.topics={}},b.exports=d},{}],product_gateway:[function(a,b,c){b.exports=a("../src/product_gateway")},{"../src/product_gateway":2}]},{},["product_gateway"]);